const Re=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}};Re();const E={};function Ie(e){E.context=e}const Pe=(e,t)=>e===t,De=Symbol("solid-track"),z={equals:Pe};let Ce=ve;const H={},I=1,V=2,Le={owned:null,cleanups:null,context:null,owner:null};var b=null;let U=null,g=null,O=null,m=null,T=null,le=0;function te(e,t){const n=g,i=b,l=e.length===0?Le:{owned:null,cleanups:null,context:null,owner:t||i};b=l,g=null;try{return ce(()=>e(()=>fe(l)),!0)}finally{g=n,b=i}}function k(e,t){t=t?Object.assign({},z,t):z;const n={value:e,observers:null,observerSlots:null,pending:H,comparator:t.equals||void 0},i=l=>(typeof l=="function"&&(l=l(n.pending!==H?n.pending:n.value)),oe(n,l));return[$e.bind(n),i]}function W(e,t,n){const i=re(e,t,!1,I);K(i)}function se(e,t,n){Ce=Oe;const i=re(e,t,!1,I);i.user=!0,T?T.push(i):K(i)}function ne(e,t,n){n=n?Object.assign({},z,n):z;const i=re(e,t,!0,0);return i.pending=H,i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,K(i),$e.bind(i)}function Fe(e){if(O)return e();let t;const n=O=[];try{t=e()}finally{O=null}return ce(()=>{for(let i=0;i<n.length;i+=1){const l=n[i];if(l.pending!==H){const r=l.pending;l.pending=H,oe(l,r)}}},!1),t}function q(e){let t,n=g;return g=null,t=e(),g=n,t}function Ee(e){se(()=>q(e))}function Me(e){return b===null||(b.cleanups===null?b.cleanups=[e]:b.cleanups.push(e)),e}function $e(){const e=U;if(this.sources&&(this.state||e)){const t=m;m=null,this.state===I||e?K(this):Y(this),m=t}if(g){const t=this.observers?this.observers.length:0;g.sources?(g.sources.push(this),g.sourceSlots.push(t)):(g.sources=[this],g.sourceSlots=[t]),this.observers?(this.observers.push(g),this.observerSlots.push(g.sources.length-1)):(this.observers=[g],this.observerSlots=[g.sources.length-1])}return this.value}function oe(e,t,n){if(O)return e.pending===H&&O.push(e),e.pending=t,t;if(e.comparator&&e.comparator(e.value,t))return t;let i=!1;return e.value=t,e.observers&&e.observers.length&&ce(()=>{for(let l=0;l<e.observers.length;l+=1){const r=e.observers[l];i&&U.disposed.has(r),(i&&!r.tState||!i&&!r.state)&&(r.pure?m.push(r):T.push(r),r.observers&&xe(r)),i||(r.state=I)}if(m.length>1e6)throw m=[],new Error},!1),t}function K(e){if(!e.fn)return;fe(e);const t=b,n=g,i=le;g=b=e,ke(e,e.value,i),g=n,b=t}function ke(e,t,n){let i;try{i=e.fn(t)}catch(l){_e(l)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?oe(e,i):e.value=i,e.updatedAt=n)}function re(e,t,n,i=I,l){const r={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:b,context:null,pure:n};return b===null||b!==Le&&(b.owned?b.owned.push(r):b.owned=[r]),r}function B(e){const t=U;if(e.state===0||t)return;if(e.state===V||t)return Y(e);if(e.suspense&&q(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<le);)(e.state||t)&&n.push(e);for(let i=n.length-1;i>=0;i--)if(e=n[i],e.state===I||t)K(e);else if(e.state===V||t){const l=m;m=null,Y(e,n[0]),m=l}}function ce(e,t){if(m)return e();let n=!1;t||(m=[]),T?n=!0:T=[],le++;try{const i=e();return He(n),i}catch(i){_e(i)}finally{m=null,n||(T=null)}}function He(e){m&&(ve(m),m=null),!e&&(T.length?Fe(()=>{Ce(T),T=null}):T=null)}function ve(e){for(let t=0;t<e.length;t++)B(e[t])}function Oe(e){let t,n=0;for(t=0;t<e.length;t++){const l=e[t];l.user?e[n++]=l:B(l)}E.context&&Ie();const i=e.length;for(t=0;t<n;t++)B(e[t]);for(t=i;t<e.length;t++)B(e[t])}function Y(e,t){const n=U;e.state=0;for(let i=0;i<e.sources.length;i+=1){const l=e.sources[i];l.sources&&(l.state===I||n?l!==t&&B(l):(l.state===V||n)&&Y(l,t))}}function xe(e){const t=U;for(let n=0;n<e.observers.length;n+=1){const i=e.observers[n];(!i.state||t)&&(i.state=V,i.pure?m.push(i):T.push(i),i.observers&&xe(i))}}function fe(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),i=e.sourceSlots.pop(),l=n.observers;if(l&&l.length){const r=l.pop(),o=n.observerSlots.pop();i<l.length&&(r.sourceSlots[o]=i,l[i]=r,n.observerSlots[i]=o)}}if(e.owned){for(t=0;t<e.owned.length;t++)fe(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function _e(e){throw e}const he=Symbol("fallback");function de(e){for(let t=0;t<e.length;t++)e[t]()}function Be(e,t,n={}){let i=[],l=[],r=[],o=[],s=0,c;return Me(()=>de(r)),()=>{const f=e()||[];return f[De],q(()=>{if(f.length===0)return s!==0&&(de(r),r=[],i=[],l=[],s=0,o=[]),n.fallback&&(i=[he],l[0]=te(p=>(r[0]=p,n.fallback())),s=1),l;for(i[0]===he&&(r[0](),r=[],i=[],l=[],s=0),c=0;c<f.length;c++)c<i.length&&i[c]!==f[c]?o[c](()=>f[c]):c>=i.length&&(l[c]=te(d));for(;c<i.length;c++)r[c]();return s=o.length=r.length=f.length,i=f.slice(0),l=l.slice(0,s)});function d(p){r[c]=p;const[w,u]=k(f[c]);return o[c]=u,t(w,c)}}}function M(e,t){return q(()=>e(t||{}))}function ge(e){const t="fallback"in e&&{fallback:()=>e.fallback};return ne(Be(()=>e.each,e.children,t||void 0))}function We(e){let t=!1;const n=ne(()=>e.when,void 0,{equals:(i,l)=>t?i===l:!i==!l});return ne(()=>{const i=n();if(i){const l=e.children;return(t=typeof l=="function"&&l.length>0)?q(()=>l(i)):l}return e.fallback})}function Ue(e,t,n){let i=n.length,l=t.length,r=i,o=0,s=0,c=t[l-1].nextSibling,f=null;for(;o<l||s<r;){if(t[o]===n[s]){o++,s++;continue}for(;t[l-1]===n[r-1];)l--,r--;if(l===o){const d=r<i?s?n[s-1].nextSibling:n[r-s]:c;for(;s<r;)e.insertBefore(n[s++],d)}else if(r===s)for(;o<l;)(!f||!f.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[r-1]&&n[s]===t[l-1]){const d=t[--l].nextSibling;e.insertBefore(n[s++],t[o++].nextSibling),e.insertBefore(n[--r],d),t[l]=n[r]}else{if(!f){f=new Map;let p=s;for(;p<r;)f.set(n[p],p++)}const d=f.get(t[o]);if(d!=null)if(s<d&&d<r){let p=o,w=1,u;for(;++p<l&&p<r&&!((u=f.get(t[p]))==null||u!==d+w);)w++;if(w>d-s){const D=t[o];for(;s<d;)e.insertBefore(n[s++],D)}else e.replaceChild(n[s++],t[o++])}else o++;else t[o++].remove()}}}const pe="_$DX_DELEGATE";function qe(e,t,n){let i;return te(l=>{i=l,t===document?e():R(t,e(),t.firstChild?null:void 0,n)}),()=>{i(),t.textContent=""}}function P(e,t,n){const i=document.createElement("template");i.innerHTML=e;let l=i.content.firstChild;return n&&(l=l.firstChild),l}function Ke(e,t=window.document){const n=t[pe]||(t[pe]=new Set);for(let i=0,l=e.length;i<l;i++){const r=e[i];n.has(r)||(n.add(r),t.addEventListener(r,Ge))}}function je(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function R(e,t,n,i){if(n!==void 0&&!i&&(i=[]),typeof t!="function")return Q(e,t,i,n);W(l=>Q(e,t(),l,n),i)}function Ge(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),E.registry&&!E.done&&(E.done=!0,document.querySelectorAll("[id^=pl-]").forEach(i=>i.remove()));n!==null;){const i=n[t];if(i&&!n.disabled){const l=n[`${t}Data`];if(l!==void 0?i(l,e):i(e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function Q(e,t,n,i,l){for(E.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const r=typeof t,o=i!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,r==="string"||r==="number"){if(E.context)return n;if(r==="number"&&(t=t.toString()),o){let s=n[0];s&&s.nodeType===3?s.data=t:s=document.createTextNode(t),n=F(e,n,i,s)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||r==="boolean"){if(E.context)return n;n=F(e,n,i)}else{if(r==="function")return W(()=>{let s=t();for(;typeof s=="function";)s=s();n=Q(e,s,n,i)}),()=>n;if(Array.isArray(t)){const s=[];if(ie(s,t,l))return W(()=>n=Q(e,s,n,i,!0)),()=>n;if(E.context){for(let c=0;c<s.length;c++)if(s[c].parentNode)return n=s}if(s.length===0){if(n=F(e,n,i),o)return n}else Array.isArray(n)?n.length===0?be(e,s,i):Ue(e,n,s):(n&&F(e),be(e,s));n=s}else if(t instanceof Node){if(E.context&&t.parentNode)return n=o?[t]:t;if(Array.isArray(n)){if(o)return n=F(e,n,i,t);F(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function ie(e,t,n){let i=!1;for(let l=0,r=t.length;l<r;l++){let o=t[l],s;if(o instanceof Node)e.push(o);else if(!(o==null||o===!0||o===!1))if(Array.isArray(o))i=ie(e,o)||i;else if((s=typeof o)=="string")e.push(document.createTextNode(o));else if(s==="function")if(n){for(;typeof o=="function";)o=o();i=ie(e,Array.isArray(o)?o:[o])||i}else e.push(o),i=!0;else e.push(document.createTextNode(o.toString()))}return i}function be(e,t,n){for(let i=0,l=t.length;i<l;i++)e.insertBefore(t[i],n)}function F(e,t,n,i){if(n===void 0)return e.textContent="";const l=i||document.createTextNode("");if(t.length){let r=!1;for(let o=t.length-1;o>=0;o--){const s=t[o];if(l!==s){const c=s.parentNode===e;!r&&!o?c?e.replaceChild(l,s):e.insertBefore(l,n):c&&s.remove()}else r=!0}}else e.insertBefore(l,n);return[l]}function Xe(){let e;const t=s=>e=s,[n,i]=k(0),[l,r]=k(0);function o(){e!=null&&(i(e.clientWidth),r(e.clientHeight))}return Ee(function(){return o(),window.addEventListener("resize",o),function(){window.removeEventListener("resize",o)}}),{canvasContainerRef:t,containerWidth:n,containerHeight:l}}function ze(e,t,n){let i,l;function r(){if(i==null&&l!=null&&(i=n(l),i==null))throw new Error("useCanvas was given no renderer, and failed to create a new one; exiting.");i&&i()}const o=s=>{l=s,r()};return se(function(){l!=null&&(l.width=e(),l.height=t(),r())}),{canvasRef:o}}function Ve(e){const t=[...e];let n=t.length,i;for(;n!=0;)i=Math.floor(Math.random()*n),n--,[t[n],t[i]]=[t[i],t[n]];return t}const Ye=P('<input type="text">');function Qe(e){function t(i){e.onUpdateLabel(i.currentTarget.value)}function n(i){i.keyCode===13&&e.onEnter()}return(()=>{const i=Ye.cloneNode(!0);i.addEventListener("keypress",n);const l=e.ref;return typeof l=="function"?l(i):e.ref=i,i.addEventListener("blur",t),W(()=>i.value=e.value),i})()}class Ze{constructor(){this.currentFrameTimestamp=new Date().getTime(),this.lastFrameTime=this.currentFrameTimestamp,this.deltaTime=0}update(){this.currentFrameTimestamp=new Date().getTime(),this.deltaTime=(this.currentFrameTimestamp-this.lastFrameTime)/1e3,this.lastFrameTime=this.currentFrameTimestamp}}const me=P("<br>"),Je=P("<hr>"),et=P('<main><section id="sidebar"><div id="controls"><button>Clear All</button><button>Shuffle</button><button>Cancel Spin</button></div><div id="rows"></div><ul id="history-list"></ul></section><section id="canvas"></section></main>'),tt=P('<div class="input-row"><button>x</button><button>&</button></div>'),nt=P("<li></li>"),it=P("<canvas></canvas>"),Se=[["#0c79a8","#0e8ac0","#109cd8","#13acee","#2bb4f0"],["#43cd3e","#56d352","#6ad867","#7edd7b","#92e28f"],["#984907","#b05509","#c9600a","#e16c0b","#f37812"],["#640798","#7409b0","#840ac9","#940be1","#a212f3"]],ee=Se[Math.floor(Math.random()*Se.length)],we=Math.PI*2,lt=6,st=.991,X=23,ot=.4,rt=.65,ct=5e-4,ye="white",ft="black",ut="transparent",Ae=e=>e*180/Math.PI;function at(e){return e===0&&(e=Math.floor(ee.length/2)),ee[e%ee.length]}const Te=[""];function ht(){const{canvasContainerRef:e,containerWidth:t,containerHeight:n}=Xe(),[i,l]=k(Te),[r,o]=k([]),[s,c]=k(!1);let f,d;function p(a){o(h=>[a,...h].slice(0,6))}function w(){L(),l(a=>[...a,""]),d?.focus()}function u(a,h){L(),l(S=>{const $=[...S];return $.splice(a,1,h),$})}function D(a){L(),l(h=>{if(a<0||a>h.length)return h;const S=[...h];return S.splice(a,0,S[a]),S})}function j(a){L(),l(h=>{const S=[...h];return S.splice(a,1),S}),d?.focus()}function C(){!window.confirm("Are you sure you want to clear the wheel?")||(L(),l(Te),f?.focus())}function v(){L(),l(a=>Ve(a.filter(h=>h!=null&&h.length>0)))}function L(){c(!1)}return se(()=>{i().filter(h=>h==null||h.length===0).length<1&&w()}),Ee(()=>{f?.focus()}),(()=>{const a=et.cloneNode(!0),h=a.firstChild,S=h.firstChild,$=S.firstChild,x=$.nextSibling,y=x.nextSibling,A=S.nextSibling,ue=A.nextSibling,Z=h.nextSibling;return $.$$click=C,x.$$click=v,y.$$click=L,R(A,M(ge,{get each(){return i()},children:(J,_)=>(()=>{const N=tt.cloneNode(!0),ae=N.firstChild,Ne=ae.nextSibling;return ae.$$click=()=>j(_),Ne.$$click=()=>D(_),R(N,M(Qe,{get value(){return J()},onUpdateLabel:G=>u(_,G),ref:G=>{_===0?f=G:_===i().length-1&&(d=G)},onEnter:w}),null),N})()})),R(h,M(We,{get when(){return r().length>0},get children(){return[me.cloneNode(!0),Je.cloneNode(!0),me.cloneNode(!0)]}}),ue),R(ue,M(ge,{get each(){return r()},children:(J,_)=>(()=>{const N=nt.cloneNode(!0);return je(N,"data-index",_),R(N,J),N})()})),Z.$$click=()=>c(!0),e(Z),R(Z,M(dt,{containerWidth:t,containerHeight:n,labels:i,onSpinDecision:p,spinning:s,stopSpin:()=>c(!1)})),W(()=>y.disabled=!s()),a})()}function dt(e){const t=()=>e.labels().filter(o=>o!=null&&o.length>0),n=()=>we/t().length,i=()=>n()/2,{canvasRef:l}=ze(e.containerWidth,e.containerHeight,r);function r(o){if(o==null){console.error("[createRenderer] Failed to find canvas element");return}const s=o.getContext("2d");if(s==null){console.error("[createRenderer] Failed to find canvas ctx");return}const c=new Ze;requestAnimationFrame(S);let f=0,d=0,p=0,w=0,u=0,D=0,j=0,C=0,v=0,L=!1;function a(){v=Math.random()*rt+ot}a();function h(){if(s==null){console.error("[setDefaults] Failed to find canvas ctx");return}s.font="20px Arial",f=Math.min(o.width,o.height),d=o.width/2,p=o.height/2,u=f/2,w=Math.min(d,p),D=d-u,j=p-u,s?.translate(D,j)}h();function S(){if(!e.spinning()){t().length===1&&(C=Math.PI),a();return}if(c.update(),v=v*st,C=C+v,C>=we&&(C=0),L=C%n()<v*6,v<ct){const x=Math.floor((360-Ae(C)%360)/Ae(n()));e.onSpinDecision(t()[x]),$(),e.stopSpin(),a();return}$(),requestAnimationFrame(S)}function $(){if(s==null)return;if(s.clearRect(0,0,o.width,o.height),t()==null||t().length===0){const y="Add some items using the sidebar",A=s.measureText(y);s.fillStyle="#ffffff",s.fillText(y,u-A.width/2,u);return}const x=t();for(let y=0;y<x.length;y++){const A=C+n()*y;s.beginPath(),s.arc(u,u,u,A,A+n(),!1),s.arc(u,u,lt,A+n(),A,!0),s.fillStyle=at(y),s.fill(),s.closePath(),s.translate(u,u),s.rotate(A+i()),s.fillStyle=ye,s.fillText(x[y],u/4,0,u),s.rotate(-(A+i())),s.translate(-u,-u)}s.beginPath(),s.moveTo(f-X,w),s.lineTo(f,w-X),s.lineTo(f,w+X),s.lineTo(f-X,w),e.spinning()?s.fillStyle=L?ye:ut:s.fillStyle=ft,s.fill(),s.stroke(),s.closePath()}return function(){h(),S(),$()}}return(()=>{const o=it.cloneNode(!0);return l(o),o})()}Ke(["click"]);qe(()=>M(ht,{}),document.getElementById("root"));
